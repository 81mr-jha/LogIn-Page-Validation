<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LogIn</title>
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
  <link href="style.css" rel="stylesheet" />
</head>

<body>
  <div class="form">
    <h2>LogIn Form</h2>
    <form id="myForm" onsubmit="return validateForm()">
      <label for="textname1">Name: </label>
      <input type="text" id="name1" autocomplete="off" name="textname1" placeholder="Enter your name">
      <span id="nameError1" class="error"></span>
      <br /><br />

      <label for="education">Select Your Education: </label>
      <select id="education" name="education">
        <option value="10th">10th</option>
        <option value="12th">12th</option>
        <option value="Bachelor">Graduation</option>
        <option value="Master">Post-Graduation</option>
        <option value="other">Other</option>
      </select>
      <br /><br />
      <label for="field">Area Of Education: </label>
      <select name="field" id="field">
        <option value="CS">CS</option>
        <option value="BCA">BCA</option>
        <option value="MCA">MCA</option>
        <option value="other">OTHER</option>
      </select>
      <br /><br /><br />
      <label for="dob">Date of Birth:</label>
      <input type="date" id="dob" autocomplete="off" name="dob">
      <span id="dobError" class="error"></span>
      <br /><br /><br />

      <label for="beginning">Date of Beginning:</label>
      <input type="date" id="beginning" name="beginning" autocomplete="off">
      <span id="bigError" class="error"></span>
      <br /><br />
      <label for="completion">Date of Completion:</label>
      <input type="date" id="completion" name="completion" autocomplete="off">
      <span id="comError" class="error"></span>
      <br /><br /><br />
      <label for="textname2">City: </label>
      <input type="text" name="textname2" id="name2" autocomplete="off">
      <span id="cityError" class="error"></span>

      <br /><br /><br />
      <label for="textname3">State: </label>
      <input type="text" autocomplete="off" name="textname3" id="name3">
      <span id="stateError" class="error"></span>

      <br /><br /><br />
      <label for="textname4">Country: </label>
      <input type="text" autocomplete="off" name="textname4" id="name4">
      <span id="countryError" class="error"></span>

      <br /><br /><br />
      <label for="zipCodeInput">Enter 6-Digit Zip Code:</label><br>
      <input type="text" class="zipCodeInput" autocomplete="off" name="zipCodeInput" maxlength="6">
      <span class="zipCodeError error"></span>

      <br /><br /><br />
      <label for="mobileInput">Enter 10-Digit Mobile Number:</label><br>
      <input type="text" class="mobileInput" autocomplete="off" name="mobileInput" maxlength="10">
      <span class="mobileError error"></span>

      <br /><br /><br />
      <img src="profile.png" alt="profile" id="profile-pic" />
      <label for="input-file" id="input-file1">update image</label>
      <input type="file" accept="image/*" id="input-file" />

      <br /><br /><br />
      <input type="submit" value="Submit" />
    </form>
  </div>
  <script>
    let profilePic = document.getElementById("profile-pic");
    let inputFile = document.getElementById("input-file");

    inputFile.onchange = function () {
      profilePic.src = URL.createObjectURL(inputFile.files[0]);
    };

    function validateForm() {
      var textInputs = document.getElementsByClassName("textInput");
      var errorMessages = document.getElementsByClassName("error-msg");

      var nameInput = document.getElementById("name1").value;
      var nameInput2 = document.getElementById("name2").value;
      var nameInput3 = document.getElementById("name3").value;
      var nameInput4 = document.getElementById("name4").value;
      var dobInput = document.getElementById("dob").value;
      var bigInput = document.getElementById("beginning").value;
      var comInput = document.getElementById("completion").value;
      var zipCodeInputs = document.getElementsByClassName("zipCodeInput");
      var mobileInputs = document.getElementsByClassName("mobileInput");


      var nameError = document.getElementById("nameError1");
      var nameError2 = document.getElementById("cityError");
      var nameError3 = document.getElementById("stateError");
      var nameError4 = document.getElementById("countryError");
      var dobError = document.getElementById("dobError");
      var bigError = document.getElementById("bigError");
      var comError = document.getElementById("comError");
      var zipCodeErrors = document.getElementsByClassName("zipCodeError");
      var mobileErrors = document.getElementsByClassName("mobileError");

      var isValid = true;
      var letters = /^[a-zA-Z\s]+$/;
      var zipCodePattern = /^\d{6}$/;
      var mobilePattern = /^\d{10}$/;

      var regex = /\d/;

      if (nameInput == "") {
        nameError.innerHTML = "*Name can't be blank";
        return false;
      }
      else {
        nameError.innerHTML = "";
      }
      if (!nameInput.match(letters)) {
        nameError.innerHTML = "*Name must contain only alphabets";
        return false;
      }
      else {
        nameError.innerHTML = "";
      }

      if (dobInput == "") {
        dobError.innerHTML = "*Date of Birth must not be blank";
        return false;
      } else {
        dobError.innerHTML = "";
      }    
      var dobInput = document.getElementById('dob');
      var dob = new Date(dobInput.value);
      var currentDate = new Date();

      if (dob > currentDate) {
        dobError.innerHTML = "*Date of Birth cannot be greater than the current date."
        dobInput.value = ''; // Clear the input field
        return false;
      }

      if (bigInput == "") {
        bigError.innerHTML = "*Date of Beginning must not be blank";
        return false;
      } else {
        bigError.innerHTML = "";
      }

      if (comInput == "") {
        comError.innerHTML = "*Date of Completion must not be blank";
        return false;
      } else {
        comError.innerHTML = "";
      }

      
      var beginningInput = document.getElementById('beginning');
      var completionInput = document.getElementById('completion');

      var beginningDate = new Date(beginningInput.value);
      var completionDate = new Date(completionInput.value);

      if (beginningDate > currentDate) {
        // alert("*Date of Beginning cannot be greater than today's date.");
        bigError.innerHTML = "*Date of Beginning cannot be greater than today's date.";
        bigError.value = ''; // Clear the input field
        return false;
      }

      if (beginningDate > completionDate) {
        // alert("*Date of Beginning cannot be greater than Date of Completion.");
        bigError.innerHTML = "*Date of Beginning cannot be greater than Date of Completion."
        begError.value = ''; // Clear the input field
        return false;
      }

      if (nameInput2 == "") {
        nameError2.innerHTML = "*City can't be blank";
        return false;
      }
      else {
        nameError2.innerHTML = "";
      }
      if (!nameInput2.match(letters)) {
        nameError2.innerHTML = "*City name must contain only alphabets";
        return false;
      }
      else {
        nameError2.innerHTML = "";
      }

      if (nameInput3 == "") {
        nameError3.innerHTML = "*State can't be blank";
        return false;
      }
      else {
        nameError3.innerHTML = "";
      }
      if (!nameInput3.match(letters)) {
        nameError3.innerHTML = "*State name must contain only alphabets";
        return false;
      }
      else {
        nameError3.innerHTML = "";
      }

      if (nameInput4 == "") {
        nameError4.innerHTML = "*Country can't be blank";
        return false;
      }
      else {
        nameError4.innerHTML = "";
      }
      if (!nameInput4.match(letters)) {
        nameError4.innerHTML = "*Country name name must contain only alphabets";
        return false;
      }
      else {
        nameError4.innerHTML = "";
      }


      // Validate zip codes
      for (var i = 0; i < zipCodeInputs.length; i++) {
        var zipCodeInput = zipCodeInputs[i].value;
        var zipCodeError = zipCodeErrors[i];

        if (!zipCodeInput.match(zipCodePattern)) {
          zipCodeError.innerHTML = "Please enter a 6-digit zip code with only numbers.";
          isValid = false;
        } else {
          zipCodeError.innerHTML = "";
        }
      }
      // Validate mobile numbers
      for (var i = 0; i < mobileInputs.length; i++) {
        var mobileInput = mobileInputs[i].value;
        var mobileError = mobileErrors[i];

        if (!mobileInput.match(mobilePattern)) {
          mobileError.innerHTML = "Please enter a 10-digit mobile number with only numbers.";
          isValid = false;
        } else {
          mobileError.innerHTML = "";
        }
      }
      return isValid;
    }
  </script>
</body>

</html>